!function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="./",t(0)}([function(e,t,r){e.exports=r(4)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={DEBUG:!1,LIB_VERSION:"2.11.3"};t.default=r},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.console=t.userAgent=t._=void 0;var i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=r(1),a=n(s);i="undefined"==typeof window?{navigator:{}}:window;var c=Array.prototype,u=Function.prototype,p=Object.prototype,_=c.slice,l=p.toString,d=p.hasOwnProperty,f=i.console,h=i.navigator,g=i.document,m=h.userAgent,y=u.bind,v=c.forEach,b=c.indexOf,k=Array.isArray,w={},x={trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},S={log:function(){if(a.default.DEBUG&&!x.isUndefined(f)&&f)try{f.log.apply(f,arguments)}catch(e){x.each(arguments,function(e){f.log(e)})}},error:function(){if(a.default.DEBUG&&!x.isUndefined(f)&&f){var e=["kongming error:"].concat(x.toArray(arguments));try{f.error.apply(f,e)}catch(t){x.each(e,function(e){f.error(e)})}}},critical:function(){if(!x.isUndefined(f)&&f){var e=["kongming error:"].concat(x.toArray(arguments));try{f.error.apply(f,e)}catch(t){x.each(e,function(e){f.error(e)})}}}};x.bind=function(e,t){var r,n;if(y&&e.bind===y)return y.apply(e,_.call(arguments,1));if(!x.isFunction(e))throw new TypeError;return r=_.call(arguments,2),n=function(){if(!(this instanceof n))return e.apply(t,r.concat(_.call(arguments)));var i={};i.prototype=e.prototype;var o=new i;i.prototype=null;var s=e.apply(o,r.concat(_.call(arguments)));return Object(s)===s?s:o}},x.bind_instance_methods=function(e){for(var t in e)"function"==typeof e[t]&&(e[t]=x.bind(e[t],e))},x.each=function(e,t,r){if(null!==e&&void 0!==e)if(v&&e.forEach===v)e.forEach(t,r);else if(e.length===+e.length){for(var n=0,i=e.length;n<i;n++)if(n in e&&t.call(r,e[n],n,e)===w)return}else for(var o in e)if(d.call(e,o)&&t.call(r,e[o],o,e)===w)return},x.escapeHTML=function(e){var t=e;return t&&x.isString(t)&&(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")),t},x.extend=function(e){return x.each(_.call(arguments,1),function(t){for(var r in t)void 0!==t[r]&&(e[r]=t[r])}),e},x.isArray=k||function(e){return"[object Array]"===l.call(e)},x.isFunction=function(e){try{return/^\s*\bfunction\b/.test(e)}catch(e){return!1}},x.isArguments=function(e){return!(!e||!d.call(e,"callee"))},x.toArray=function(e){return e?e.toArray?e.toArray():x.isArray(e)?_.call(e):x.isArguments(e)?_.call(e):x.values(e):[]},x.values=function(e){var t=[];return null===e?t:(x.each(e,function(e){t[t.length]=e}),t)},x.identity=function(e){return e},x.include=function(e,t){var r=!1;return null===e?r:b&&e.indexOf===b?e.indexOf(t)!=-1:(x.each(e,function(e){if(r||(r=e===t))return w}),r)},x.includes=function(e,t){return e.indexOf(t)!==-1},x.inherit=function(e,t){return e.prototype=new t,e.prototype.constructor=e,e.superclass=t.prototype,e},x.isObject=function(e){return e===Object(e)&&!x.isArray(e)},x.isEmptyObject=function(e){if(x.isObject(e)){for(var t in e)if(d.call(e,t))return!1;return!0}return!1},x.isUndefined=function(e){return void 0===e},x.isString=function(e){return"[object String]"==l.call(e)},x.isDate=function(e){return"[object Date]"==l.call(e)},x.isNumber=function(e){return"[object Number]"==l.call(e)},x.isElement=function(e){return!(!e||1!==e.nodeType)},x.encodeDates=function(e){return x.each(e,function(t,r){x.isDate(t)?e[r]=x.formatDate(t):x.isObject(t)&&(e[r]=x.encodeDates(t))}),e},x.timestamp=function(){return Date.now=Date.now||function(){return+new Date},Date.now()},x.formatDate=function(e){function t(e){return e<10?"0"+e:e}return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())},x.safewrap=function(e){return function(){try{return e.apply(this,arguments)}catch(e){S.critical("Implementation error. Please contact info@kongming-inc.com.")}}},x.safewrap_class=function(e,t){for(var r=0;r<t.length;r++)e.prototype[t[r]]=x.safewrap(e.prototype[t[r]])},x.safewrap_instance_methods=function(e){for(var t in e)"function"==typeof e[t]&&(e[t]=x.safewrap(e[t]))},x.strip_empty_properties=function(e){var t={};return x.each(e,function(e,r){x.isString(e)&&e.length>0&&(t[r]=e)}),t},x.truncate=function(e,t){var r;return"string"==typeof e?r=e.slice(0,t):x.isArray(e)?(r=[],x.each(e,function(e){r.push(x.truncate(e,t))})):x.isObject(e)?(r={},x.each(e,function(e,n){"$dom_path"===n?r[n]=e:r[n]=x.truncate(e,t)})):r=e,r},x.JSONEncode=function(){return function(e){var t=e,r=function(e){var t=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,r={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return t.lastIndex=0,t.test(e)?'"'+e.replace(t,function(e){var t=r[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'},n=function e(t,n){var i="",s="    ",a=0,c="",u="",p=0,_=i,f=[],h=n[t];switch(h&&"object"===("undefined"==typeof h?"undefined":o(h))&&"function"==typeof h.toJSON&&(h=h.toJSON(t)),"undefined"==typeof h?"undefined":o(h)){case"string":return r(h);case"number":return isFinite(h)?String(h):"null";case"boolean":case"null":return String(h);case"object":if(!h)return"null";if(i+=s,f=[],"[object Array]"===l.apply(h)){for(p=h.length,a=0;a<p;a+=1)f[a]=e(a,h)||"null";return u=0===f.length?"[]":i?"[\n"+i+f.join(",\n"+i)+"\n"+_+"]":"["+f.join(",")+"]",i=_,u}for(c in h)d.call(h,c)&&(u=e(c,h),u&&f.push(r(c)+(i?": ":":")+u));return u=0===f.length?"{}":i?"{"+f.join(",")+_+"}":"{"+f.join(",")+"}",i=_,u}};return n("",{"":t})}}(),x.JSONDecode=function(){var e,t,r,n,i={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},o=function(t){throw{name:"SyntaxError",message:t,at:e,text:r}},s=function(n){return n&&n!==t&&o("Expected '"+n+"' instead of '"+t+"'"),t=r.charAt(e),e+=1,t},a=function e(){var e,r="";for("-"===t&&(r="-",s("-"));t>="0"&&t<="9";)r+=t,s();if("."===t)for(r+=".";s()&&t>="0"&&t<="9";)r+=t;if("e"===t||"E"===t)for(r+=t,s(),"-"!==t&&"+"!==t||(r+=t,s());t>="0"&&t<="9";)r+=t,s();return e=+r,isFinite(e)?e:void o("Bad number")},c=function e(){var r,n,a,e="";if('"'===t)for(;s();){if('"'===t)return s(),e;if("\\"===t)if(s(),"u"===t){for(a=0,n=0;n<4&&(r=parseInt(s(),16),isFinite(r));n+=1)a=16*a+r;e+=String.fromCharCode(a)}else{if("string"!=typeof i[t])break;e+=i[t]}else e+=t}o("Bad string")},u=function(){for(;t&&t<=" ";)s()},p=function(){switch(t){case"t":return s("t"),s("r"),s("u"),s("e"),!0;case"f":return s("f"),s("a"),s("l"),s("s"),s("e"),!1;case"n":return s("n"),s("u"),s("l"),s("l"),null}o('Unexpected "'+t+'"')},_=function e(){var e=[];if("["===t){if(s("["),u(),"]"===t)return s("]"),e;for(;t;){if(e.push(n()),u(),"]"===t)return s("]"),e;s(","),u()}}o("Bad array")},l=function e(){var r,e={};if("{"===t){if(s("{"),u(),"}"===t)return s("}"),e;for(;t;){if(r=c(),u(),s(":"),Object.hasOwnProperty.call(e,r)&&o('Duplicate key "'+r+'"'),e[r]=n(),u(),"}"===t)return s("}"),e;s(","),u()}}o("Bad object")};return n=function(){switch(u(),t){case"{":return l();case"[":return _();case'"':return c();case"-":return a();default:return t>="0"&&t<="9"?a():p()}},function(i){var s;return r=i,e=0,t=" ",s=n(),u(),t&&o("Syntax error"),s}}(),x.base64Encode=function(e){var t,r,n,i,o,s,a,c,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",p=0,_=0,l="",d=[];if(!e)return e;e=x.utf8Encode(e);do t=e.charCodeAt(p++),r=e.charCodeAt(p++),n=e.charCodeAt(p++),c=t<<16|r<<8|n,i=c>>18&63,o=c>>12&63,s=c>>6&63,a=63&c,d[_++]=u.charAt(i)+u.charAt(o)+u.charAt(s)+u.charAt(a);while(p<e.length);switch(l=d.join(""),e.length%3){case 1:l=l.slice(0,-2)+"==";break;case 2:l=l.slice(0,-1)+"="}return l},x.utf8Encode=function(e){e=(e+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n");var t,r,n,i="",o=0;for(t=r=0,o=e.length,n=0;n<o;n++){var s=e.charCodeAt(n),a=null;s<128?r++:a=s>127&&s<2048?String.fromCharCode(s>>6|192,63&s|128):String.fromCharCode(s>>12|224,s>>6&63|128,63&s|128),null!==a&&(r>t&&(i+=e.substring(t,r)),i+=a,t=r=n+1)}return r>t&&(i+=e.substring(t,e.length)),i},x.UUID=function(){var e=function(){for(var e=1*new Date,t=0;e==1*new Date;)t++;return e.toString(16)+t.toString(16)},t=function(){return Math.random().toString(16).replace(".","")},r=function(){function e(e,t){var r,n=0;for(r=0;r<t.length;r++)n|=i[r]<<8*r;return e^n}var t,r,n=m,i=[],o=0;for(t=0;t<n.length;t++)r=n.charCodeAt(t),i.unshift(255&r),i.length>=4&&(o=e(o,i),i=[]);return i.length>0&&(o=e(o,i)),o.toString(16)};return function(){var n=(screen.height*screen.width).toString(16);return e()+"-"+t()+"-"+r()+"-"+n+"-"+e()}}(),x.isBlockedUA=function(e){return!!/(google web preview|baiduspider|yandexbot|bingbot|googlebot|yahoo! slurp)/i.test(e)},x.HTTPBuildQuery=function(e,t){var r,n,i=[];return x.isUndefined(t)&&(t="&"),x.each(e,function(e,t){r=encodeURIComponent(e.toString()),n=encodeURIComponent(t),i[i.length]=n+"="+r}),i.join(t)},x.getQueryParam=function(e,t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var r="[\\?&]"+t+"=([^&#]*)",n=new RegExp(r),i=n.exec(e);return null===i||i&&"string"!=typeof i[1]&&i[1].length?"":decodeURIComponent(i[1]).replace(/\+/g," ")},x.getHashParam=function(e,t){var r=e.match(new RegExp(t+"=([^&]*)"));return r?r[1]:null},x.cookie={get:function(e){for(var t=e+"=",r=g.cookie.split(";"),n=0;n<r.length;n++){for(var i=r[n];" "==i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return decodeURIComponent(i.substring(t.length,i.length))}return null},parse:function(e){var t;try{t=x.JSONDecode(x.cookie.get(e))||{}}catch(e){}return t},set_seconds:function(e,t,r,n,i){var o="",s="",a="";if(n){var c=g.location.hostname.match(/[a-z0-9][a-z0-9\-]+\.[a-z\.]{2,6}$/i),u=c?c[0]:"";o=u?"; domain=."+u:""}if(r){var p=new Date;p.setTime(p.getTime()+1e3*r),s="; expires="+p.toGMTString()}i&&(a="; secure"),g.cookie=e+"="+encodeURIComponent(t)+s+"; path=/"+o+a},set:function(e,t,r,n,i){var o="",s="",a="";if(n){var c=g.location.hostname.match(/[a-z0-9][a-z0-9\-]+\.[a-z\.]{2,6}$/i),u=c?c[0]:"";o=u?"; domain=."+u:""}if(r){var p=new Date;p.setTime(p.getTime()+24*r*60*60*1e3),s="; expires="+p.toGMTString()}i&&(a="; secure");var _=e+"="+encodeURIComponent(t)+s+"; path=/"+o+a;return g.cookie=_,_},remove:function(e,t){x.cookie.set(e,"",-1,t)}},x.localStorage={error:function(e){S.error("localStorage error: "+e)},get:function(e){try{return window.localStorage.getItem(e)}catch(e){x.localStorage.error(e)}return null},parse:function(e){try{return x.JSONDecode(x.localStorage.get(e))||{}}catch(e){}return null},set:function(e,t){try{window.localStorage.setItem(e,t)}catch(e){x.localStorage.error(e)}},remove:function(e){try{window.localStorage.removeItem(e)}catch(e){x.localStorage.error(e)}}},x.register_event=function(){function e(e,r,n){var i=function(i){if(i=i||t(window.event)){var o,s,a=!0;return x.isFunction(n)&&(o=n(i)),s=r.call(e,i),!1!==o&&!1!==s||(a=!1),a}};return i}function t(e){return e&&(e.preventDefault=t.preventDefault,e.stopPropagation=t.stopPropagation),e}var r=function(t,r,n,i,o){if(!t)return void S.error("No valid element provided to register_event");if(t.addEventListener&&!i)t.addEventListener(r,n,!!o);else{var s="on"+r,a=t[s];t[s]=e(t,n,a)}};return t.preventDefault=function(){this.returnValue=!1},t.stopPropagation=function(){this.cancelBubble=!0},r}(),x.dom_query=function(){function e(e){return e.all?e.all:e.getElementsByTagName("*")}function t(e,t){var r=" "+t+" ";return(" "+e.className+" ").replace(n," ").indexOf(r)>=0}function r(r){if(!g.getElementsByTagName)return[];var n,i,o,s,a,c,u,p,_,l,d=r.split(" "),f=[g];for(c=0;c<d.length;c++)if(n=d[c].replace(/^\s+/,"").replace(/\s+$/,""),n.indexOf("#")>-1){i=n.split("#"),o=i[0];var h=i[1],m=g.getElementById(h);if(!m||o&&m.nodeName.toLowerCase()!=o)return[];f=[m]}else if(n.indexOf(".")>-1){i=n.split("."),o=i[0];var y=i[1];for(o||(o="*"),s=[],a=0,u=0;u<f.length;u++)for(_="*"==o?e(f[u]):f[u].getElementsByTagName(o),p=0;p<_.length;p++)s[a++]=_[p];for(f=[],l=0,u=0;u<s.length;u++)s[u].className&&x.isString(s[u].className)&&t(s[u],y)&&(f[l++]=s[u])}else{var v=n.match(/^(\w*)\[(\w+)([=~\|\^\$\*]?)=?"?([^\]"]*)"?\]$/);if(v){o=v[1];var b=v[2],k=v[3],w=v[4];for(o||(o="*"),s=[],a=0,u=0;u<f.length;u++)for(_="*"==o?e(f[u]):f[u].getElementsByTagName(o),p=0;p<_.length;p++)s[a++]=_[p];f=[],l=0;var S;switch(k){case"=":S=function(e){return e.getAttribute(b)==w};break;case"~":S=function(e){return e.getAttribute(b).match(new RegExp("\\b"+w+"\\b"))};break;case"|":S=function(e){return e.getAttribute(b).match(new RegExp("^"+w+"-?"))};break;case"^":S=function(e){return 0===e.getAttribute(b).indexOf(w)};break;case"$":S=function(e){return e.getAttribute(b).lastIndexOf(w)==e.getAttribute(b).length-w.length};break;case"*":S=function(e){return e.getAttribute(b).indexOf(w)>-1};break;default:S=function(e){return e.getAttribute(b)}}for(f=[],l=0,u=0;u<s.length;u++)S(s[u])&&(f[l++]=s[u])}else{for(o=n,s=[],a=0,u=0;u<f.length;u++)for(_=f[u].getElementsByTagName(o),p=0;p<_.length;p++)s[a++]=_[p];f=s}}return f}var n=/[\t\r\n]/g;return function(e){return x.isElement(e)?[e]:x.isObject(e)&&!x.isUndefined(e.length)?e:r.call(this,e)}}(),x.info={campaignParams:function(){var e="utm_source utm_medium utm_campaign utm_content utm_term".split(" "),t="",r={};return x.each(e,function(e){t=x.getQueryParam(g.URL,e),t.length&&(r[e]=t)}),r},searchEngine:function(e){return 0===e.search("https?://(.*)google.([^/?]*)")?"google":0===e.search("https?://(.*)bing.com")?"bing":0===e.search("https?://(.*)yahoo.com")?"yahoo":0===e.search("https?://(.*)duckduckgo.com")?"duckduckgo":null},searchInfo:function(e){var t=x.info.searchEngine(e),r="yahoo"!=t?"q":"p",n={};if(null!==t){n.$search_engine=t;var i=x.getQueryParam(e,r);i.length&&(n.mp_keyword=i)}return n},browser:function(e,t,r){return t=t||"",r||x.includes(e," OPR/")?x.includes(e,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":x.includes(e,"IEMobile")||x.includes(e,"WPDesktop")?"Internet Explorer Mobile":x.includes(e,"Edge")?"Microsoft Edge":x.includes(e,"FBIOS")?"Facebook Mobile":x.includes(e,"Chrome")?"Chrome":x.includes(e,"CriOS")?"Chrome iOS":x.includes(e,"UCWEB")||x.includes(e,"UCBrowser")?"UC Browser":x.includes(e,"FxiOS")?"Firefox iOS":x.includes(t,"Apple")?x.includes(e,"Mobile")?"Mobile Safari":"Safari":x.includes(e,"Android")?"Android Mobile":x.includes(e,"Konqueror")?"Konqueror":x.includes(e,"Firefox")?"Firefox":x.includes(e,"MSIE")||x.includes(e,"Trident/")?"Internet Explorer":x.includes(e,"Gecko")?"Mozilla":""},browserVersion:function(e,t,r){var n=x.info.browser(e,t,r),i={"Internet Explorer Mobile":/rv:(\d+(\.\d+)?)/,"Microsoft Edge":/Edge\/(\d+(\.\d+)?)/,Chrome:/Chrome\/(\d+(\.\d+)?)/,"Chrome iOS":/CriOS\/(\d+(\.\d+)?)/,"UC Browser":/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/,Safari:/Version\/(\d+(\.\d+)?)/,"Mobile Safari":/Version\/(\d+(\.\d+)?)/,Opera:/(Opera|OPR)\/(\d+(\.\d+)?)/,Firefox:/Firefox\/(\d+(\.\d+)?)/,"Firefox iOS":/FxiOS\/(\d+(\.\d+)?)/,Konqueror:/Konqueror:(\d+(\.\d+)?)/,BlackBerry:/BlackBerry (\d+(\.\d+)?)/,"Android Mobile":/android\s(\d+(\.\d+)?)/,"Internet Explorer":/(rv:|MSIE )(\d+(\.\d+)?)/,Mozilla:/rv:(\d+(\.\d+)?)/},o=i[n];if(void 0===o)return null;var s=e.match(o);return s?parseFloat(s[s.length-2]):null},os:function(){var e=m;return/Windows/i.test(e)?/Phone/.test(e)||/WPDesktop/.test(e)?"Windows Phone":"Windows":/(iPhone|iPad|iPod)/.test(e)?"iOS":/Android/.test(e)?"Android":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Mac/i.test(e)?"Mac OS X":/Linux/.test(e)?"Linux":""},device:function(e){return/Windows Phone/i.test(e)||/WPDesktop/.test(e)?"Windows Phone":/iPad/.test(e)?"iPad":/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Android/.test(e)?"Android":""},referringDomain:function(e){var t=e.split("/");return t.length>=3?t[2]:""},properties:function(){return x.extend(x.strip_empty_properties({$os:x.info.os(),$browser:x.info.browser(m,h.vendor,window.opera),$referrer:g.referrer,$referring_domain:x.info.referringDomain(g.referrer),$device:x.info.device(m)}),{$current_url:window.location.href,$browser_version:x.info.browserVersion(m,h.vendor,window.opera),$screen_height:screen.height,$screen_width:screen.width,$lib_version:a.default.LIB_VERSION})},people_properties:function(){return x.extend(x.strip_empty_properties({$os:x.info.os(),$browser:x.info.browser(m,h.vendor,window.opera)}),{$browser_version:x.info.browserVersion(m,h.vendor,window.opera)})},pageviewInfo:function(e){return x.strip_empty_properties({mp_page:e,mp_referrer:g.referrer,mp_browser:x.info.browser(m,h.vendor,window.opera),mp_platform:x.info.os()})}},x.toArray=x.toArray,x.isObject=x.isObject,x.JSONEncode=x.JSONEncode,x.JSONDecode=x.JSONDecode,x.isBlockedUA=x.isBlockedUA,x.isEmptyObject=x.isEmptyObject,x.info=x.info,x.info.device=x.info.device,x.info.browser=x.info.browser,x.info.properties=x.info.properties,t._=x,t.userAgent=m,t.console=S},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.autotrack=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=r(1),s=n(o),a=r(2),c=1,u=3,p=["styles","class"],_={_initializedTokens:[],_previousElementSibling:function(e){if(e.previousElementSibling)return e.previousElementSibling;do e=e.previousSibling;while(e&&e.nodeType!==c);return e},_loadScript:function(e,t){var r=document.createElement("script");r.type="text/javascript",r.src=e,r.onload=t;var n=document.getElementsByTagName("script");n.length>0?n[0].parentNode.insertBefore(r,n[0]):document.body.appendChild(r)},_getClassName:function(e){switch(i(e.className)){case"string":return e.className;case"object":return e.className.baseVal||e.getAttribute("class")||"";default:return""}},_getPropertiesFromElement:function(e){var t={classes:this._getClassName(e).split(" "),tag_name:e.tagName.toLowerCase()};if(a._.includes(["input","select","textarea"],e.tagName.toLowerCase())){var r=this._getFormFieldValue(e);this._includeProperty(e,r)&&(t.value=r)}a._.each(e.attributes,function(e){a._.includes(p,e.name)||(t["attr__"+e.name]=e.value)});for(var n=1,i=1,o=e;o=this._previousElementSibling(o);)n++,o.tagName===e.tagName&&i++;return t.nth_child=n,t.nth_of_type=i,t},_isTag:function(e,t){return e&&e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()},_shouldTrackDomEvent:function(e,t){if(!e||this._isTag(e,"html")||e.nodeType!==c)return!1;var r=e.tagName.toLowerCase();switch(r){case"html":return!1;case"form":return"submit"===t.type;case"input":return["button","submit"].indexOf(e.getAttribute("type"))===-1?"change"===t.type:"click"===t.type;case"select":case"textarea":return"change"===t.type;default:return"click"===t.type||"touchend"===t.type}},_getDefaultProperties:function(e){return{$event_type:e,$ce_version:1,$host:window.location.host,$pathname:window.location.pathname}},_getInputValue:function(e){var t=null,r=e.type.toLowerCase();switch(r){case"checkbox":e.checked&&(t=[e.value]);break;case"radio":e.checked&&(t=e.value);break;default:t=e.value}return t},_getSelectValue:function(e){var t;if(e.multiple){var r=[];a._.each(e.querySelectorAll("[selected]"),function(e){r.push(e.value)}),t=r}else t=e.value;return t},_includeProperty:function(e,t){for(var r=e;r.parentNode&&!this._isTag(r,"body");r=r.parentNode){var n=this._getClassName(r).split(" ");if(a._.includes(n,"mp-sensitive")||a._.includes(n,"mp-no-track"))return!1}if(a._.includes(this._getClassName(e).split(" "),"mp-include"))return!0;if(null===t)return!1;var i=e.type||"";switch(i.toLowerCase()){case"hidden":return!1;case"password":return!1}var o=e.name||e.id||"",s=/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|seccode|securitycode|securitynum|socialsec|socsec|ssn/i;if(s.test(o.replace(/[^a-zA-Z0-9]/g,"")))return!1;if("string"==typeof t){var c=/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/;if(c.test((t||"").replace(/[\- ]/g,"")))return!1;var u=/(^\d{3}-?\d{2}-?\d{4}$)/;if(u.test(t))return!1}return!0},_getFormFieldValue:function(e){var t;switch(e.tagName.toLowerCase()){case"input":t=this._getInputValue(e);break;case"select":t=this._getSelectValue(e);break;default:t=e.value||e.textContent}return this._includeProperty(e,t)?t:null},_getFormFieldProperties:function(e){var t={};return a._.each(e.elements,function(e){var r=e.getAttribute("name")||e.getAttribute("id");if(null!==r){r="$form_field__"+r;var n=this._getFormFieldValue(e);if(this._includeProperty(e,n)){var i=t[r];void 0!==i?t[r]=[].concat(i,n):t[r]=n}}},this),t},_extractCustomPropertyValue:function(e){var t=[];return a._.each(document.querySelectorAll(e.css_selector),function(e){["input","select"].indexOf(e.tagName.toLowerCase())>-1?t.push(e.value):e.textContent&&t.push(e.textContent)}),t.join(", ")},_getCustomProperties:function(e){var t={};return a._.each(this._customProperties,function(r){a._.each(r.event_selectors,function(n){var i=document.querySelectorAll(n);a._.each(i,function(n){a._.includes(e,n)&&(t[r.name]=this._extractCustomPropertyValue(r))},this)},this)},this),t},_getEventTarget:function(e){return"undefined"==typeof e.target?e.srcElement:e.target},_trackEvent:function(e,t){var r=this._getEventTarget(e),n=t.get_config("track_links_timeout");if(r.nodeType===u&&(r=r.parentNode),this._shouldTrackDomEvent(r,e)){for(var i=[r],o=r;o.parentNode&&!this._isTag(o,"body");)i.push(o.parentNode),o=o.parentNode;var s,c,p,_=[],l=!1;if(a._.each(i,function(e,t){if("a"===e.tagName.toLowerCase()?s=e.getAttribute("href"):"form"===e.tagName.toLowerCase()&&(p=e),!c&&t<2&&e.textContent){var r=a._.trim(e.textContent);r&&(c=r.replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255))}var n=this._getClassName(e).split(" ");a._.includes(n,"mp-no-track")&&(l=!0),_.push(this._getPropertiesFromElement(e))},this),l)return!1;var d=this._getStrictlyDomPath(_).join(" "),f=a._.extend(this._getDefaultProperties(e.type),{$elements:_,$el_attr__href:s,$el_text:c,$dom_path:d,clientX:e.clientX?e.clientX:"",clientY:e.clientY?e.clientY:""},this._getCustomProperties(i));if(!p||"submit"!==e.type&&"click"!==e.type||a._.extend(f,this._getFormFieldProperties(p)),s&&0==!s.indexOf("javascript:")){var h=function(){setTimeout(function(){window.location=s},0)};if("touchend"===e.type||"click"===e.type){var g=2===e.which||e.metaKey||e.ctrlKey||"_blank"===this._getEventTarget(e).target;g||e.preventDefault()}window.setTimeout(h,n)}return console.log(f.$event_type),t.track("$web_event",f),!0}},_getStrictlyDomPath:function(e){var t=[];return a._.each(e,function(e){var r=e.nth_child,n=e.nth_of_type,i=e.classes.length>0&&""!=e.classes[0]?"."+e.classes.join("."):"",o=e.tag_name+i+":nth-child("+r+"):nth_of_type("+n+")";t.push(o)}),t.reverse(),t},_shouldTrackDomEventByStrictlyDomPath:function(e){var t=!1,r=this._SelectorList;if(r&&0!=r.length){for(var n=0;n<r.length;n++)if(r[n].domPath==e)return t=!0,!0;return t}return!1},_navigate:function(e){window.location.href=e},_addDomEventHandlers:function(e){var t=a._.bind(function(t){t=t||window.event,this._trackEvent(t,e)},this);window.onbeforeunload=function(){e.track("$web_event",{$event_type:"onbeforeunload"})},a._.register_event(document,"submit",t,!1,!0),a._.register_event(document,"change",t,!1,!0),a._.register_event(document,"click",t,!1,!0),a._.register_event(document,"touchend",t,!1,!0)},_customProperties:{},_SelectorList:[],init:function(e){if(!document||!document.body){console.log("document not ready yet, trying again in 500 milliseconds...");var t=this;return void setTimeout(function(){t.init(e)},500)}var r=e.get_config("token");if(this._initializedTokens.indexOf(r)>-1)return void console.log('autotrack already initialized for token "'+r+'"');if(this._initializedTokens.push(r),!this._maybeLoadEditor(e)){a._.bind(function(t){t&&0==t.errno&&(this._SelectorList=t.rst,this._addDomEventHandlers(e))},this);this._addDomEventHandlers(e)}},_editorParamsFromHash:function(e,t){var r;try{var n=a._.getHashParam(t,"state");n=JSON.parse(decodeURIComponent(n));var i=a._.getHashParam(t,"expires_in");r={accessToken:a._.getHashParam(t,"access_token"),accessTokenExpiresAt:(new Date).getTime()+1e3*Number(i),bookmarkletMode:!!n.bookmarkletMode,projectId:n.projectId,projectOwnerId:n.projectOwnerId,projectToken:n.token,readOnly:n.readOnly,userFlags:n.userFlags,userId:n.userId},window.sessionStorage.setItem("editorParams",JSON.stringify(r)),n.desiredHash?window.location.hash=n.desiredHash:window.history?history.replaceState("",document.title,window.location.pathname+window.location.search):window.location.hash=""}catch(e){console.error("Unable to parse data from hash",e)}return r},_maybeLoadEditor:function(e){var t=!1;if(a._.getHashParam(window.location.hash,"state")){var r=a._.getHashParam(window.location.hash,"state");r=JSON.parse(decodeURIComponent(r)),t="kmeditor"===r.action}var n,i=!!window.sessionStorage.getItem("_mpcehash");return t?n=this._editorParamsFromHash(e,window.location.hash):i?(n=this._editorParamsFromHash(e,window.sessionStorage.getItem("_mpcehash")),window.sessionStorage.removeItem("_mpcehash")):n=JSON.parse(window.sessionStorage.getItem("editorParams")||"{}"),!(!n.projectToken||e.get_config("token")!==n.projectToken)&&(this._loadEditor(e,n),!0)},_editorLoaded:!1,_loadEditor:function(e,t){if(console.log(t),!this._editorLoaded){this._editorLoaded=!0;var r,n="?_ts="+(new Date).getTime();e.get_config("app_host")+"/site_media";return r=s.default.DEBUG?"https://datalink.kongming-inc.com/static/js/kmEditor.js"+n:"https://datalink.kongming-inc.com/static/js/kmEditor.js",this._loadScript(r,function(){window.kmEditor.init(t)}),!0}return!1},enabledForProject:function(e,t,r){t=a._.isUndefined(t)?10:t,r=a._.isUndefined(r)?10:r;for(var n=0,i=0;i<e.length;i++)n+=e.charCodeAt(i);return n%t<r},isBrowserSupported:function(){return a._.isFunction(document.querySelectorAll)}};a._.bind_instance_methods(_),a._.safewrap_instance_methods(_),t.autotrack=_},function(e,t,r){"use strict";var n=r(5);(0,n.init_from_snippet)()},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(){if(s=d,a=window[f],p._.isUndefined(a))return void p.console.critical('"mixpanel" object not initialized. Ensure you are using the latest version of the Mixpanel JS Library along with the snippet we provide.');if(a.__loaded||a.config&&a.persistence)return void p.console.error("Mixpanel library has already been downloaded at least once.");var e=a.__SV||0;return e<1.1?void p.console.critical("Version mismatch; please ensure you're using the latest version of the Mixpanel code snippet."):(p._.each(a._i,function(e){e&&p._.isArray(e)&&(R[e[e.length-1]]=L.apply(this,e))}),V(),a.init(),p._.each(R,function(e){e._loaded()}),void J())}function o(){return s=l,a=new M,V(),a.init(),J(),a}Object.defineProperty(t,"__esModule",{value:!0}),t.init_from_snippet=i,t.init_as_module=o;var s,a,c=r(1),u=n(c),p=r(2),_=r(3),l=0,d=1,f="mixpanel",h="__mps",g="__mpso",m="__mpa",y="__mpap",v="__mpu",b="$set",k="$set_once",w="$add",x="$append",S="$union",E="$people_distinct_id",O="__alias",A="__cmpns",P="__timers",U=[h,g,m,y,v,E,O,A,P],q="https:"===document.location.protocol?"https://":"http://",N=window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,j=!N&&p.userAgent.indexOf("MSIE")===-1&&p.userAgent.indexOf("Mozilla")===-1,C={api_host:q+"datalink.kongming-inc.com",app_host:q+"datalink.kongming-inc.com",autotrack:!0,cdn:q+"datalink.kongming-inc.com",cross_subdomain_cookie:!0,persistence:"cookie",persistence_name:"",cookie_name:"",loaded:function(){},store_google:!0,save_referrer:!0,test:!1,verbose:!1,img:!1,track_pageview:!0,debug:!1,track_links_timeout:500,cookie_expiration:365,upgrade:!1,disable_persistence:!1,disable_cookie:!1,secure_cookie:!1,ip:!0,property_blacklist:[]};C.decide_host=C.api_host;var D=!1,T=function(){};T.prototype.create_properties=function(){},T.prototype.event_handler=function(){},T.prototype.after_track_handler=function(){},T.prototype.init=function(e){return this.mp=e,this},T.prototype.track=function(e,t,r,n){var i=this,o=p._.dom_query(e);return 0===o.length?void p.console.error("The DOM query ("+e+") returned 0 elements"):(p._.each(o,function(e){p._.register_event(e,this.override_event,function(e){var o={},s=i.create_properties(r,this),a=i.mp.get_config("track_links_timeout");i.event_handler(e,this,o),window.setTimeout(i.track_callback(n,s,o,!0),a),i.mp.track(t,s,i.track_callback(n,s,o))})},this),!0)},T.prototype.track_callback=function(e,t,r,n){n=n||!1;var i=this;return function(){r.callback_fired||(r.callback_fired=!0,e&&e(n,t)===!1||i.after_track_handler(t,r,n))}},T.prototype.create_properties=function(e,t){var r;return r="function"==typeof e?e(t):p._.extend({},e)};var B=function(){this.override_event="click"};p._.inherit(B,T),B.prototype.create_properties=function(e,t){var r=B.superclass.create_properties.apply(this,arguments);return t.href&&(r.url=t.href),r},B.prototype.event_handler=function(e,t,r){r.new_tab=2===e.which||e.metaKey||e.ctrlKey||"_blank"===t.target,r.href=t.href,r.new_tab||e.preventDefault()},B.prototype.after_track_handler=function(e,t){t.new_tab||setTimeout(function(){window.location=t.href},0)};var $=function(){this.override_event="submit"};p._.inherit($,T),$.prototype.event_handler=function(e,t,r){r.element=t,e.preventDefault()},$.prototype.after_track_handler=function(e,t){setTimeout(function(){t.element.submit()},0)};var I=function(e){this.props={},this.campaign_params_saved=!1,e.persistence_name?this.name="mp_"+e.persistence_name:this.name="mp_"+e.token+"_mixpanel";var t=e.persistence;"cookie"!==t&&"localStorage"!==t&&(p.console.critical("Unknown persistence type "+t+"; falling back to cookie"),t=e.persistence="cookie");var r=function(){var e=!0;try{var t="__mplssupport__",r="xyz";p._.localStorage.set(t,r),p._.localStorage.get(t)!==r&&(e=!1),p._.localStorage.remove(t)}catch(t){e=!1}return e||p.console.error("localStorage unsupported; falling back to cookie store"),e};"localStorage"===t&&r()?this.storage=p._.localStorage:this.storage=p._.cookie,this.load(),this.update_config(e),this.upgrade(e),this.save()};I.prototype.properties=function(){var e={};return p._.each(this.props,function(t,r){p._.include(U,r)||(e[r]=t)}),e},I.prototype.load=function(){if(!this.disabled){var e=this.storage.parse(this.name);e&&(this.props=p._.extend({},e))}},I.prototype.upgrade=function(e){var t,r,n=e.upgrade;n&&(t="mp_super_properties","string"==typeof n&&(t=n),r=this.storage.parse(t),this.storage.remove(t),this.storage.remove(t,!0),r&&(this.props=p._.extend(this.props,r.all,r.events))),e.cookie_name||"mixpanel"===e.name||(t="mp_"+e.token+"_"+e.name,r=this.storage.parse(t),r&&(this.storage.remove(t),this.storage.remove(t,!0),this.register_once(r))),this.storage===p._.localStorage&&(r=p._.cookie.parse(this.name),p._.cookie.remove(this.name),p._.cookie.remove(this.name,!0),r&&this.register_once(r))},I.prototype.save=function(){this.disabled||(this._expire_notification_campaigns(),this.storage.set(this.name,p._.JSONEncode(this.props),this.expire_days,this.cross_subdomain,this.secure))},I.prototype.remove=function(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)},I.prototype.clear=function(){this.remove(),this.props={}},I.prototype.register_once=function(e,t,r){return!!p._.isObject(e)&&("undefined"==typeof t&&(t="None"),this.expire_days="undefined"==typeof r?this.default_expiry:r,
p._.each(e,function(e,r){this.props[r]&&this.props[r]!==t||(this.props[r]=e)},this),this.save(),!0)},I.prototype.register=function(e,t){return!!p._.isObject(e)&&(this.expire_days="undefined"==typeof t?this.default_expiry:t,p._.extend(this.props,e),this.save(),!0)},I.prototype.unregister=function(e){e in this.props&&(delete this.props[e],this.save())},I.prototype._expire_notification_campaigns=p._.safewrap(function(){var e=this.props[A],t=u.default.DEBUG?6e4:36e5;if(e){for(var r in e)1*new Date-e[r]>t&&delete e[r];p._.isEmptyObject(e)&&delete this.props[A]}}),I.prototype.update_campaign_params=function(){this.campaign_params_saved||(this.register_once(p._.info.campaignParams()),this.campaign_params_saved=!0)},I.prototype.update_search_keyword=function(e){this.register(p._.info.searchInfo(e))},I.prototype.update_referrer_info=function(e){this.register_once({$initial_referrer:e||"$direct",$initial_referring_domain:p._.info.referringDomain(e)||"$direct"},"")},I.prototype.get_referrer_info=function(){return p._.strip_empty_properties({$initial_referrer:this.props.$initial_referrer,$initial_referring_domain:this.props.$initial_referring_domain})},I.prototype.safe_merge=function(e){return p._.each(this.props,function(t,r){r in e||(e[r]=t)}),e},I.prototype.update_config=function(e){this.default_expiry=this.expire_days=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie)},I.prototype.set_disabled=function(e){this.disabled=e,this.disabled&&this.remove()},I.prototype.set_cross_subdomain=function(e){e!==this.cross_subdomain&&(this.cross_subdomain=e,this.remove(),this.save())},I.prototype.get_cross_subdomain=function(){return this.cross_subdomain},I.prototype.set_secure=function(e){e!==this.secure&&(this.secure=!!e,this.remove(),this.save())},I.prototype._add_to_people_queue=function(e,t){var r=this._get_queue_key(e),n=t[e],i=this._get_or_create_queue(b),o=this._get_or_create_queue(k),s=this._get_or_create_queue(w),a=this._get_or_create_queue(S),c=this._get_or_create_queue(x,[]);r===h?(p._.extend(i,n),this._pop_from_people_queue(w,n),this._pop_from_people_queue(S,n)):r===g?p._.each(n,function(e,t){t in o||(o[t]=e)}):r===m?p._.each(n,function(e,t){t in i?i[t]+=e:(t in s||(s[t]=0),s[t]+=e)},this):r===v?p._.each(n,function(e,t){p._.isArray(e)&&(t in a||(a[t]=[]),a[t]=a[t].concat(e))}):r===y&&c.push(n),p.console.log("MIXPANEL PEOPLE REQUEST (QUEUED, PENDING IDENTIFY):"),p.console.log(t),this.save()},I.prototype._pop_from_people_queue=function(e,t){var r=this._get_queue(e);p._.isUndefined(r)||(p._.each(t,function(e,t){delete r[t]},this),this.save())},I.prototype._get_queue_key=function(e){return e===b?h:e===k?g:e===w?m:e===x?y:e===S?v:void p.console.error("Invalid queue:",e)},I.prototype._get_queue=function(e){return this.props[this._get_queue_key(e)]},I.prototype._get_or_create_queue=function(e,t){var r=this._get_queue_key(e);return t=p._.isUndefined(t)?{}:t,this.props[r]||(this.props[r]=t)},I.prototype.set_event_timer=function(e,t){var r=this.props[P]||{};r[e]=t,this.props[P]=r,this.save()},I.prototype.remove_event_timer=function(e){var t=this.props[P]||{},r=t[e];return p._.isUndefined(r)||(delete this.props[P][e],this.save()),r};var M=function(){},F=function(){},L=function(e,t,r){var n,i=r===f?a:a[r];if(i&&s===l)n=i;else{if(i&&!p._.isArray(i))return void p.console.error("You have already initialized "+r);n=new M}if(n._init(e,t,r),n.people=new F,n.people._init(n),u.default.DEBUG=u.default.DEBUG||n.get_config("debug"),n.__autotrack_enabled=n.get_config("autotrack"),n.get_config("autotrack")){var o=100,c=100;_.autotrack.enabledForProject(n.get_config("token"),o,c)?_.autotrack.isBrowserSupported()?_.autotrack.init(n):(n.__autotrack_enabled=!1,p.console.log("Disabling Automatic Event Collection because this browser is not supported")):(n.__autotrack_enabled=!1,p.console.log("Not in active bucket: disabling Automatic Event Collection."));try{z(n)}catch(e){p.console.error(e)}}return!p._.isUndefined(i)&&p._.isArray(i)&&(n._execute_array.call(n.people,i.people),n._execute_array(i)),n};M.prototype.init=function(e,t,r){if(p._.isUndefined(r))return void p.console.error("You must name your new library: init(token, config, name)");if(r===f)return void p.console.error("You must initialize the main mixpanel object right after you include the Mixpanel js snippet");var n=L(e,t,r);return a[r]=n,n._loaded(),n},M.prototype._init=function(e,t,r){this.__loaded=!0,this.config={},this.set_config(p._.extend({},C,t,{name:r,token:e,callback_fn:(r===f?r:"mixpanel."+r)+"._jsc"})),this._jsc=function(){},this.__dom_loaded_queue=[],this.__request_queue=[],this.__disabled_events=[],this._flags={disable_all_events:!1,identify_called:!1},this.persistence=this.cookie=new I(this.config),this.register_once({distinct_id:p._.UUID()},"")},M.prototype._loaded=function(){this.get_config("loaded")(this),this.get_config("track_pageview")&&this.track_pageview()},M.prototype._dom_loaded=function(){p._.each(this.__dom_loaded_queue,function(e){this._track_dom.apply(this,e)},this),p._.each(this.__request_queue,function(e){this._send_request.apply(this,e)},this),delete this.__dom_loaded_queue,delete this.__request_queue},M.prototype._track_dom=function(e,t){if(this.get_config("img"))return p.console.error("You can't use DOM tracking functions with img = true."),!1;if(!D)return this.__dom_loaded_queue.push([e,t]),!1;var r=(new e).init(this);return r.track.apply(r,t)},M.prototype._prepare_callback=function(e,t){if(p._.isUndefined(e))return null;if(N){var r=function(r){e(r,t)};return r}var n=this._jsc,i=""+Math.floor(1e8*Math.random()),o=this.get_config("callback_fn")+"["+i+"]";return n[i]=function(r){delete n[i],e(r,t)},o},M.prototype._send_request=function(e,t,r){if(j)return void this.__request_queue.push(arguments);var n=this.get_config("verbose");if(t.verbose&&(n=!0),this.get_config("test")&&(t.test=1),n&&(t.verbose=1),this.get_config("img")&&(t.img=1),N||(r?t.callback=r:(n||this.get_config("test"))&&(t.callback="(function(){})")),t.ip=this.get_config("ip")?1:0,t._=(new Date).getTime().toString(),e+="?"+p._.HTTPBuildQuery(t),"img"in t){var i=document.createElement("img");i.src=e,document.body.appendChild(i)}else if(N)try{var o=new XMLHttpRequest;o.open("GET",e,!0),o.withCredentials=!0,o.onreadystatechange=function(){if(4===o.readyState)if(200===o.status)r&&r(n?p._.JSONDecode(o.responseText):Number(o.responseText));else{var e="Bad HTTP status: "+o.status+" "+o.statusText;p.console.error(e),r&&r(n?{status:0,error:e}:0)}},o.send(null)}catch(e){p.console.error(e)}else{var s=document.createElement("script");s.type="text/javascript",s.async=!0,s.defer=!0,s.src=e;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(s,a)}},M.prototype._execute_array=function(e){var t,r=[],n=[],i=[];p._.each(e,function(e){e&&(t=e[0],"function"==typeof e?e.call(this):p._.isArray(e)&&"alias"===t?r.push(e):p._.isArray(e)&&t.indexOf("track")!==-1&&"function"==typeof this[t]?i.push(e):n.push(e))},this);var o=function(e,t){p._.each(e,function(e){this[e[0]].apply(this,e.slice(1))},t)};o(r,this),o(n,this),o(i,this)},M.prototype.push=function(e){this._execute_array([e])},M.prototype.disable=function(e){"undefined"==typeof e?this._flags.disable_all_events=!0:this.__disabled_events=this.__disabled_events.concat(e)},M.prototype.track=function(e,t,r){if("function"!=typeof r&&(r=function(){}),p._.isUndefined(e))return void p.console.error("No event name provided to mixpanel.track");if(this._event_is_disabled(e))return void r(0);t=t||{},t.token=this.get_config("token");var n=this.persistence.remove_event_timer(e);if(!p._.isUndefined(n)){var i=(new Date).getTime()-n;t.$duration=parseFloat((i/1e3).toFixed(3))}this.persistence.update_search_keyword(document.referrer),this.get_config("store_google")&&this.persistence.update_campaign_params(),this.get_config("save_referrer")&&this.persistence.update_referrer_info(document.referrer),t=p._.extend({},p._.info.properties(),this.persistence.properties(),t);try{this.get_config("autotrack")&&"mp_page_view"!==e&&"$create_alias"!==e&&(t=p._.extend({},t,this.mp_counts),this.mp_counts={$__c:0},p._.cookie.set("mp_"+this.get_config("name")+"__c",0,1,!0))}catch(e){p.console.error(e)}var o=this.get_config("property_blacklist");p._.isArray(o)?p._.each(o,function(e){delete t[e]}):p.console.error("Invalid value for property_blacklist config: "+o);var s={event:e,properties:t},a=p._.truncate(s,255),c=p._.JSONEncode(a),u=p._.base64Encode(c);return p.console.log("MIXPANEL REQUEST:"),p.console.log(a),this._send_request(this.get_config("api_host")+"/api/receiveData.php",{data:u},this._prepare_callback(r,a)),a},M.prototype.track_pageview=function(e){p._.isUndefined(e)&&(e=document.location.href),this.track("mp_page_view",p._.info.pageviewInfo(e))},M.prototype.track_links=function(){return this._track_dom.call(this,B,arguments)},M.prototype.track_forms=function(){return this._track_dom.call(this,$,arguments)},M.prototype.time_event=function(e){return p._.isUndefined(e)?void p.console.error("No event name provided to mixpanel.time_event"):void(this._event_is_disabled(e)||this.persistence.set_event_timer(e,(new Date).getTime()))},M.prototype.register=function(e,t){this.persistence.register(e,t)},M.prototype.register_once=function(e,t,r){this.persistence.register_once(e,t,r)},M.prototype.unregister=function(e){this.persistence.unregister(e)},M.prototype._register_single=function(e,t){var r={};r[e]=t,this.register(r)},M.prototype.identify=function(e,t,r,n,i,o){e!==this.get_distinct_id()&&e!==this.get_property(O)&&(this.unregister(O),this._register_single("distinct_id",e)),this._flags.identify_called=!0,this.people._flush(t,r,n,i,o)},M.prototype.reset=function(){this.persistence.clear(),this._flags.identify_called=!1,this.register_once({distinct_id:p._.UUID()},"")},M.prototype.get_distinct_id=function(){return this.get_property("distinct_id")},M.prototype.alias=function(e,t){if(e===this.get_property(E))return p.console.critical("Attempting to create alias for existing People user - aborting."),-2;var r=this;return p._.isUndefined(t)&&(t=this.get_distinct_id()),e!==t?(this._register_single(O,e),this.track("$create_alias",{alias:e,distinct_id:t},function(){r.identify(e)})):(p.console.error("alias matches current distinct_id - skipping api call."),this.identify(e),-1)},M.prototype.name_tag=function(e){this._register_single("mp_name_tag",e)},M.prototype.set_config=function(e){p._.isObject(e)&&(p._.extend(this.config,e),this.get_config("persistence_name")||(this.config.persistence_name=this.config.cookie_name),this.get_config("disable_persistence")||(this.config.disable_persistence=this.config.disable_cookie),this.persistence&&this.persistence.update_config(this.config),u.default.DEBUG=u.default.DEBUG||this.get_config("debug"))},M.prototype.get_config=function(e){return this.config[e]},M.prototype.get_property=function(e){return this.persistence.props[e]},M.prototype.toString=function(){var e=this.get_config("name");return e!==f&&(e="mixpanel."+e),e},M.prototype._event_is_disabled=function(e){return p._.isBlockedUA(p.userAgent)||this._flags.disable_all_events||p._.include(this.__disabled_events,e)},F.prototype._init=function(e){this._mixpanel=e},F.prototype.set=function(e,t,r){var n={},i={};return p._.isObject(e)?(p._.each(e,function(e,t){this._is_reserved_property(t)||(i[t]=e)},this),r=t):i[e]=t,this._get_config("save_referrer")&&this._mixpanel.persistence.update_referrer_info(document.referrer),i=p._.extend({},p._.info.people_properties(),this._mixpanel.persistence.get_referrer_info(),i),n[b]=i,this._send_request(n,r)},F.prototype.set_once=function(e,t,r){var n={},i={};return p._.isObject(e)?(p._.each(e,function(e,t){this._is_reserved_property(t)||(i[t]=e)},this),r=t):i[e]=t,n[k]=i,this._send_request(n,r)},F.prototype.increment=function(e,t,r){var n={},i={};return p._.isObject(e)?(p._.each(e,function(e,t){if(!this._is_reserved_property(t)){if(isNaN(parseFloat(e)))return void p.console.error("Invalid increment value passed to mixpanel.people.increment - must be a number");i[t]=e}},this),r=t):(p._.isUndefined(t)&&(t=1),i[e]=t),n[w]=i,this._send_request(n,r)},F.prototype.append=function(e,t,r){var n={},i={};return p._.isObject(e)?(p._.each(e,function(e,t){this._is_reserved_property(t)||(i[t]=e)},this),r=t):i[e]=t,n[x]=i,this._send_request(n,r)},F.prototype.union=function(e,t,r){var n={},i={};return p._.isObject(e)?(p._.each(e,function(e,t){this._is_reserved_property(t)||(i[t]=p._.isArray(e)?e:[e])},this),r=t):i[e]=p._.isArray(t)?t:[t],n[S]=i,this._send_request(n,r)},F.prototype.track_charge=function(e,t,r){return!p._.isNumber(e)&&(e=parseFloat(e),isNaN(e))?void p.console.error("Invalid value passed to mixpanel.people.track_charge - must be a number"):this.append("$transactions",p._.extend({$amount:e},t),r)},F.prototype.clear_charges=function(e){return this.set("$transactions",[],e)},F.prototype.delete_user=function(){if(!this._identify_called())return void p.console.error("mixpanel.people.delete_user() requires you to call identify() first");var e={$delete:this._mixpanel.get_distinct_id()};return this._send_request(e)},F.prototype.toString=function(){return this._mixpanel.toString()+".people"},F.prototype._send_request=function(e,t){e.$token=this._get_config("token"),e.$distinct_id=this._mixpanel.get_distinct_id();var r=p._.encodeDates(e),n=p._.truncate(r,255),i=p._.JSONEncode(r),o=p._.base64Encode(i);return this._identify_called()?(p.console.log("MIXPANEL PEOPLE REQUEST:"),p.console.log(n),this._mixpanel._send_request(this._get_config("api_host")+"/api/receiveData.php",{data:o},this._mixpanel._prepare_callback(t,n)),n):(this._enqueue(e),p._.isUndefined(t)||t(this._get_config("verbose")?{status:-1,error:null}:-1),n)},F.prototype._get_config=function(e){return this._mixpanel.get_config(e)},F.prototype._identify_called=function(){return this._mixpanel._flags.identify_called===!0},F.prototype._enqueue=function(e){b in e?this._mixpanel.persistence._add_to_people_queue(b,e):k in e?this._mixpanel.persistence._add_to_people_queue(k,e):w in e?this._mixpanel.persistence._add_to_people_queue(w,e):x in e?this._mixpanel.persistence._add_to_people_queue(x,e):S in e?this._mixpanel.persistence._add_to_people_queue(S,e):p.console.error("Invalid call to _enqueue():",e)},F.prototype._flush=function(e,t,r,n,i){var o=this,s=p._.extend({},this._mixpanel.persistence._get_queue(b)),a=p._.extend({},this._mixpanel.persistence._get_queue(k)),c=p._.extend({},this._mixpanel.persistence._get_queue(w)),u=this._mixpanel.persistence._get_queue(x),_=p._.extend({},this._mixpanel.persistence._get_queue(S));if(p._.isUndefined(s)||!p._.isObject(s)||p._.isEmptyObject(s)||(o._mixpanel.persistence._pop_from_people_queue(b,s),this.set(s,function(t,r){0===t&&o._mixpanel.persistence._add_to_people_queue(b,s),p._.isUndefined(e)||e(t,r)})),p._.isUndefined(a)||!p._.isObject(a)||p._.isEmptyObject(a)||(o._mixpanel.persistence._pop_from_people_queue(k,a),this.set_once(a,function(e,t){0===e&&o._mixpanel.persistence._add_to_people_queue(k,a),p._.isUndefined(n)||n(e,t)})),p._.isUndefined(c)||!p._.isObject(c)||p._.isEmptyObject(c)||(o._mixpanel.persistence._pop_from_people_queue(w,c),this.increment(c,function(e,r){0===e&&o._mixpanel.persistence._add_to_people_queue(w,c),p._.isUndefined(t)||t(e,r)})),p._.isUndefined(_)||!p._.isObject(_)||p._.isEmptyObject(_)||(o._mixpanel.persistence._pop_from_people_queue(S,_),this.union(_,function(e,t){0===e&&o._mixpanel.persistence._add_to_people_queue(S,_),p._.isUndefined(i)||i(e,t)})),!p._.isUndefined(u)&&p._.isArray(u)&&u.length){for(var l,d=function(e,t){0===e&&o._mixpanel.persistence._add_to_people_queue(x,l),p._.isUndefined(r)||r(e,t)},f=u.length-1;f>=0;f--)l=u.pop(),o.append(l,d);o._mixpanel.persistence.save()}},F.prototype._is_reserved_property=function(e){return"$distinct_id"===e||"$token"===e},M.prototype.init=M.prototype.init,M.prototype.reset=M.prototype.reset,M.prototype.disable=M.prototype.disable,M.prototype.time_event=M.prototype.time_event,M.prototype.track=M.prototype.track,M.prototype.track_links=M.prototype.track_links,M.prototype.track_forms=M.prototype.track_forms,M.prototype.track_pageview=M.prototype.track_pageview,M.prototype.register=M.prototype.register,M.prototype.register_once=M.prototype.register_once,M.prototype.unregister=M.prototype.unregister,M.prototype.identify=M.prototype.identify,M.prototype.alias=M.prototype.alias,M.prototype.name_tag=M.prototype.name_tag,M.prototype.set_config=M.prototype.set_config,M.prototype.get_config=M.prototype.get_config,M.prototype.get_property=M.prototype.get_property,M.prototype.get_distinct_id=M.prototype.get_distinct_id,M.prototype.toString=M.prototype.toString,I.prototype.properties=I.prototype.properties,I.prototype.update_search_keyword=I.prototype.update_search_keyword,I.prototype.update_referrer_info=I.prototype.update_referrer_info,I.prototype.get_cross_subdomain=I.prototype.get_cross_subdomain,I.prototype.clear=I.prototype.clear,F.prototype.set=F.prototype.set,F.prototype.set_once=F.prototype.set_once,F.prototype.increment=F.prototype.increment,F.prototype.append=F.prototype.append,F.prototype.union=F.prototype.union,F.prototype.track_charge=F.prototype.track_charge,F.prototype.clear_charges=F.prototype.clear_charges,F.prototype.delete_user=F.prototype.delete_user,F.prototype.toString=F.prototype.toString,p._.safewrap_class(M,["identify"]);var R={},H=function(){p._.each(R,function(e,t){t!==f&&(a[t]=e)}),a._=p._},V=function(){a.init=function(e,t,r){if(r)return a[r]||(a[r]=R[r]=L(e,t,r),a[r]._loaded()),a[r];var n=a;R[f]?n=R[f]:e&&(n=L(e,t,f),n._loaded(),R[f]=n),a=n,s===d&&(window[f]=a),H()}},J=function(){function e(){e.done||(e.done=!0,D=!0,j=!1,p._.each(R,function(e){e._dom_loaded()}))}function t(){try{document.documentElement.doScroll("left")}catch(e){return void setTimeout(t,1)}e()}if(document.addEventListener)"complete"===document.readyState?e():document.addEventListener("DOMContentLoaded",e,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",e);var r=!1;try{r=null===window.frameElement}catch(e){}document.documentElement.doScroll&&r&&t()}p._.register_event(window,"load",e,!0)},z=function(e){var t=e.get_config("name");e.mp_counts=e.mp_counts||{},e.mp_counts.$__c=parseInt(p._.cookie.get("mp_"+t+"__c"))||0;var r=function(){e.mp_counts.$__c=(e.mp_counts.$__c||0)+1,p._.cookie.set("mp_"+t+"__c",e.mp_counts.$__c,1,!0)},n=function(){try{e.mp_counts=e.mp_counts||{},r()}catch(e){p.console.error(e)}};p._.register_event(document,"submit",n),p._.register_event(document,"change",n);var i=null;p._.register_event(document,"mousedown",function(e){i=e.target}),p._.register_event(document,"mouseup",function(e){e.target===i&&n(e)})}}]);